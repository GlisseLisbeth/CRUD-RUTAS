(this["webpackJsonprutas-crud"]=this["webpackJsonprutas-crud"]||[]).push([[0],{36:function(e,t,a){e.exports=a(65)},65:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(33),c=a.n(o),l=(a(41),a(9)),s=a.n(l),i=a(13),u=a(2),m=a(3),p=a(5),d=a(4),h=a(6),b=a(11),f=a(15),E=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},n.a.createElement(b.b,{className:"navbar-brand",to:"/productos"},"React router"),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},n.a.createElement("ul",{className:"navbar-nav"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(b.c,{exact:!0,className:"nav-link",activeClassName:"active",to:"/productos"},"Productos")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(b.c,{exact:!0,className:"nav-link",activeClassName:"active",to:"/productos/nuevo"},"Agregar Productos")))))}}]),t}(r.Component),g=a(16),v=a.n(g),j=a(14),O=a.n(j),y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).eliminarProducto=function(e){v.a.fire({title:"Esta seguro?",text:"Un platillo eliminado no se puede recuperar",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si eliminar",cancelButtonText:"Cancelar"}).then(function(){var t=Object(i.a)(s.a.mark((function t(r){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.value){t.next=13;break}return t.prev=1,n="http://localhost:4000/restaurant/".concat(e),t.next=5,O.a.delete(n);case 5:200===t.sent.status&&v.a.fire("Eliminado!","El producto se a eliminado","success"),a.props.reloadProductos(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}())},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.producto,a=t.id,r=t.nombrePlatillo,o=t.precioPlatillo,c=t.categoria;return n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},a),n.a.createElement("td",null,r),n.a.createElement("td",null,c),n.a.createElement("td",null,"S/. ",o),n.a.createElement("td",{className:"d-flex justify-content-around"},n.a.createElement(b.b,{to:"/productos/editar/".concat(a),className:"btn btn-warning"},"Editar"),n.a.createElement("button",{onClick:function(){return e.eliminarProducto(a)},className:"btn btn-danger"},"Eliminar")))}}]),t}(r.Component),P=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.listaProductos;return n.a.createElement("div",null,n.a.createElement("h1",null,"Productos"),n.a.createElement("table",{className:"table"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},"Nombre"),n.a.createElement("th",{scope:"col"},"Categoria"),n.a.createElement("th",{scope:"col"},"Precio"),n.a.createElement("th",{scope:"col"},"Acciones"))),n.a.createElement("tbody",null,t.map((function(t){return n.a.createElement(y,{reloadProductos:e.props.reloadProductos,key:t.id,producto:t})})))))}}]),t}(r.Component),k=a(18),N=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.mensaje;return n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("p",{className:"alert col-md-6 alert-danger p3 my-2 text-center text-uppercase"},e))}}]),t}(r.Component);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(k.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={producto:{nombrePlatillo:"",precioPlatillo:"",categoria:""},error:!1},a.handleChange=function(e){a.setState({producto:w({},a.state.producto,Object(k.a)({},e.target.name,e.target.value))})},a.agregar=function(){var e=Object(i.a)(s.a.mark((function e(t){var r,n,o,c,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.state.producto,n=r.nombrePlatillo,o=r.precioPlatillo,c=r.categoria,""!==n&&""!==o&&""!==c){e.next=5;break}return a.setState({error:!0}),e.abrupt("return");case 5:return a.setState({error:!1}),"http://localhost:4000/restaurant",l=a.state.producto,e.prev=8,e.next=11,O.a.post("http://localhost:4000/restaurant",w({},l));case 11:201===(i=e.sent).status&&(a.alerta(),a.props.reloadProductos(),a.props.history.push("/productos")),console.log(i),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}(),a.alerta=function(){v.a.fire("Exito!","Producto agregado correctamente","success")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.error;return n.a.createElement("div",null,n.a.createElement("h1",{className:"text-center"},"Agregar Nuevo producto"),e&&n.a.createElement(N,{mensaje:"Todos los campos son obligatorios"}),n.a.createElement("form",{className:"mt-4",onSubmit:this.agregar},n.a.createElement("div",{className:"form-row justify-content-center"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",{htmlFor:"inputEmail4"},"Nombre"),n.a.createElement("input",{type:"text",className:"form-control",name:"nombrePlatillo",onChange:this.handleChange,value:this.state.producto.nombrePlatillo,placeholder:"Nombre del platillo"}))),n.a.createElement("div",{className:"form-row justify-content-center"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",{htmlFor:"inputAddress"},"Precio"),n.a.createElement("input",{type:"number",className:"form-control",name:"precioPlatillo",onChange:this.handleChange,value:this.state.producto.precioPlatillo,placeholder:"Precio"}))),n.a.createElement("div",{className:"form-row justify-content-center mt-3"},n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",onChange:this.handleChange,checked:"Postres"===this.state.producto.categoria,value:"Postres"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"Postres"},"Postres")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",onChange:this.handleChange,checked:"Bebidas"===this.state.producto.categoria,value:"Bebidas"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"Bebidas"},"Bebidas")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",onChange:this.handleChange,checked:"Cortes"===this.state.producto.categoria,value:"Cortes"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"Cortes"},"Cortes")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",onChange:this.handleChange,checked:"Cortes"===this.state.producto.categoria,value:"Ensaladas"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"Ensaladas"},"Ensaladas"))),n.a.createElement("div",{className:"form-row justify-content-center mt-4"},n.a.createElement("button",{type:"submit",className:"btn btn-primary col-md-6"},"Agregar"))))}}]),t}(r.Component),S=Object(f.g)(x);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(k.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={producto:{nombrePlatillo:"",precioPlatillo:"",categoria:""},error:!1},a.handleChange=function(e){a.setState({producto:F({},a.state.producto,Object(k.a)({},e.target.name,e.target.value))})},a.editar=function(){var e=Object(i.a)(s.a.mark((function e(t){var r,n,o,c,l,i,u,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=a.state.producto,n=r.nombrePlatillo,o=r.precioPlatillo,c=r.categoria,l=r.id,""!==n&&""!==o&&""!==c){e.next=5;break}return a.setState({error:!0}),e.abrupt("return");case 5:return a.setState({error:!1}),i="http://localhost:4000/restaurant/".concat(l),u=a.state.producto,e.prev=8,e.next=11,O.a.put(i,F({},u));case 11:200===(m=e.sent).status&&(a.alerta(),a.props.reloadProductos(),a.props.history.push("/productos")),console.log(m),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}(),a.alerta=function(){v.a.fire("Exito!","Producto Editado correctamente","success")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.setState({producto:this.props.producto})}},{key:"render",value:function(){var e=this.state.error;return n.a.createElement("div",null,n.a.createElement("h1",{className:"text-center"},"Editar Producto"),e&&n.a.createElement(N,{mensaje:"Todos los campos son obligatorios"}),n.a.createElement("form",{className:"mt-4",onSubmit:this.editar},n.a.createElement("div",{className:"form-row justify-content-center"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",{htmlFor:"inputEmail4"},"Nombre"),n.a.createElement("input",{type:"text",className:"form-control",name:"nombrePlatillo",onChange:this.handleChange,value:this.state.producto.nombrePlatillo,placeholder:"Nombre del platillo"}))),n.a.createElement("div",{className:"form-row justify-content-center"},n.a.createElement("div",{className:"form-group col-md-6"},n.a.createElement("label",{htmlFor:"inputAddress"},"Precio"),n.a.createElement("input",{type:"number",className:"form-control",name:"precioPlatillo",onChange:this.handleChange,value:this.state.producto.precioPlatillo,placeholder:"Precio"}))),n.a.createElement("div",{className:"form-row justify-content-center mt-3"},n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",onChange:this.handleChange,checked:"Postres"===this.state.producto.categoria,value:"Postres"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"Postres"},"Postres")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",onChange:this.handleChange,checked:"Bebidas"===this.state.producto.categoria,value:"Bebidas"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"Bebidas"},"Bebidas")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",onChange:this.handleChange,checked:"Cortes"===this.state.producto.categoria,value:"Cortes"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"Cortes"},"Cortes")),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"categoria",onChange:this.handleChange,checked:"Ensaladas"===this.state.producto.categoria,value:"Ensaladas"}),n.a.createElement("label",{className:"form-check-label",htmlFor:"Ensaladas"},"Ensaladas"))),n.a.createElement("div",{className:"form-row justify-content-center mt-4"},n.a.createElement("button",{type:"submit",className:"btn btn-primary col-md-6"},"Agregar"))))}}]),t}(r.Component),A=Object(f.g)(D),T=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement(r.Fragment,null,"/productos/editar/:id"===this.props.match.path?n.a.createElement(A,{reloadProductos:this.props.reloadProductos,producto:this.props.producto}):n.a.createElement(S,{reloadProductos:this.props.reloadProductos}))}}]),t}(r.Component),I=function(e){function t(){var e,a;Object(u.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={listaProductos:[]},a.getProductos=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("http://localhost:4000/restaurant");case 2:t=e.sent,a.setState({listaProductos:t.data});case 4:case"end":return e.stop()}}),e)}))),a.getProducto=function(e){console.log(e);var t=parseInt(e);return console.log(t),a.state.listaProductos.filter((function(e){return e.id===t}))[0]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getProductos()}},{key:"render",value:function(){var e=this;return n.a.createElement(b.a,null,n.a.createElement(E,null),n.a.createElement("main",{className:"container"},n.a.createElement(f.d,null,n.a.createElement(f.b,{exact:!0,path:"/productos/nuevo",render:function(t){return n.a.createElement(T,Object.assign({reloadProductos:e.getProductos},t))}}),n.a.createElement(f.b,{exact:!0,path:"/"},n.a.createElement(f.a,{to:"/productos"})),n.a.createElement(f.b,{exact:!0,path:"/productos",render:function(){return n.a.createElement(P,{reloadProductos:e.getProductos,listaProductos:e.state.listaProductos})}}),n.a.createElement(f.b,{exact:!0,path:"/productos/editar/:id",render:function(t){return n.a.createElement(T,Object.assign({reloadProductos:e.getProductos,producto:e.getProducto(t.match.params.id)},t))}}))))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.4163eddf.chunk.js.map